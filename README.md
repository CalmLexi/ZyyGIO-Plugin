使用`Yunzai`执行`hk4e`的GM指令

# 效果展示：

在线玩家：

![在线玩家示例](https://i.328888.xyz/2023/04/30/iKYK3N.png)

GM指令：

![别名指令示例](https://i.328888.xyz/2023/04/30/iKq4VU.png)
![普通指令示例](https://i.328888.xyz/2023/04/30/iKqAbv.png)

邮件：

![邮件别名示例](https://i.328888.xyz/2023/04/30/iKYK3N.png)
![普通指令示例](https://i.328888.xyz/2023/04/30/iKqUQy.png)

# 安装Yunzai
根据自己的需求任选其一安装即可

Miao-Yunzai：[Gitee](https://gitee.com/yoimiya-kokomi/Miao-Yunzai) | [Github](https://github.com/yoimiya-kokomi/Miao-Yunzai)

TRSS-Yunzai：[Gitee](https://gitee.com/TimeRainStarSky/Yunzai) | [Github](https://github.com/TimeRainStarSky/Yunzai)

| 支持的协议       | QQ群 | QQ频道 | QQ频道-官方 | WeChat | Telegram | Discord | KOOK |
|-------------|-----|------|---------|--------|----------|---------|------|
| Miao-Yunzai | ✔   |      | ✔       |        |          |         |      |
| TRSS-Yunzai | ✔   | ✔    | ✔       | ✔      | ✔        | ✔       | ✔    |

# 安装插件

在`Yunzai`根目录执行，任选其一

Gitee：
```
git clone --depth 1 https://gitee.com/ZYY-Yu/Zyy-GM-plugin plugins/Zyy-GM-plugin
```

Github：
```
git clone --depth 1 https://github.com/ZYY-Yu/Zyy-GM-plugin plugins/Zyy-GM-plugin
```

# 插件结构
以下所有文件都在此路径`Zyy-GM-plugin/config`

目前只有`server.yaml`文件需要手动进行添加服务器，其他文件都不推荐进行手动修改。
* `config.yaml`：存放每个群聊的服务器，管理员，玩家UID

* `command.json`：存放命令别名。小白不推荐手动修改，最好使用命令添加。

* `mail.json`：存放邮件别名。小白不推荐手动修改，最好使用命令添加。

* `server.yaml`：存放服务器列表，方便服主快捷在多个群聊切换服务器。

# 注意事项：
* 你需要往`server.yaml`里面添加你要使用的服务器信息
* 请保持服务器的键名和ID为唯一，切换服务器指令使用的是服务器的ID
* 如果你的服务器启用了`sign`，请在配置中把 `signswitch: "false"` 修改为 `signswitch: "true"` 

以下是各项配置的解析
```
"小钰-3.2":                 // 这里是键名，如果你不知道怎么改，按照name-版本这样填写即可
  id: "1"                   // 这里是id，请保持唯一，用于机器人区分多服务器
  name: "小钰"              // 服务器名称
  version: "3.2"            // 服务器版本
  ip: "192.168.56.128"      // 服务器IP
  port: 20011               // 服务器端口
  region: "dev_gio"         // 服务器区服
  sign: "zyy"               // 服务器签名
  signswitch: "false"       // 签名开关

```

# 使用流程

### 超级管理流程

##### 1.开启GM
配置好服务器后，在想使用的群聊发送 开启GN
随后发送 切换服务器2
参数说明，这里的2是指你自己设置的服务器ID，自己更改即可，配置完成即可到玩家流程。


### 玩家流程：
首先需要绑定自己的UID

在已经开启GM的群聊发送`绑定+UID`即可。


# 指令说明
插件会覆盖默认的`Yunzai`帮助，如果想使用默认帮助，发送`指令|云崽帮助`即可

| ** 指令**   | **权限** | **结构**                                               | **说明**          |
|-----------|--------|------------------------------------------------------|-----------------|
|  绑定123    |  所有人   | 绑定[UID]                                              | 需要绑定UID才可以使用    |
| /别名       |  所有人   | /[别名]                                                | 搭配别名            |
| /指令       |  所有人   | /[原有指令]                                              | 自行查阅原有指令        |
| 指令别名      |  所有人   | 指令别名                                                 | 查看已有的指令别名       |
| 邮件别名      |  所有人   | 邮件别名                                                 | 查看已有的邮件别名       |
| 玩家列表      |  所有人   | 玩家列表                                                 | 查看现有绑定UID的玩家    |
| 邮件 新手礼包   |  权限    | 邮件 [别名]                                              | 搭配别名            |
| 自定义邮件     |  所有人   |  邮件 [标题] [内容] [物品ID:数量,物品ID:数量]                      | 发送自定义邮件，物品      |
| 添加命令组     |  所有人   | [添加命令] [主别名/别名1/别名2] [/指令1 /指令2 /指令3]                |  添加自定义名称指令      |
| 添加邮件组     |  所有人   | [添加邮件] [主别名/别名1/别名2] [邮件标题] [邮件内容] [物品ID:数量,物品ID:数量] |  添加自定义名称邮件      |
| 查看命令|邮件别名 |  所有人   | [查看(邮件|命令)别名][需要查看的别名]                               | 查看别名的基本信息       |
| 添加命令别名    |        | [添加命令别名] [需要添加别名的主别名] [新别名1/新别名2/新别名3]                | 给现有的命令主别名添加更多别名 |
| 添加邮件别名    |        | [添加邮件别名] [需要添加别名的主别名] [新别名1/新别名2/新别名3]               | 给现有的邮件主别名添加更多别名 |
|           |        |                                                      |                 |
| 换绑UID     |  管理员   |  绑定[uid][@玩家]                                        | 使用方法：绑定+uid+@玩家 |
| 删除命令      |  管理员   | 删除命令[主别名]                                            |  删掉命令组          |
| 删除邮件      |  管理员   | 删除邮件[主别名]                                            |  删掉邮件组          |
| 全服邮件      |  管理员   | 全服邮件 [标题] [内容] [物品ID:数量,物品ID:数量]                     | 用法一致            |
| 添加全服邮件UID |  管理员   |  添加UID [开始数] [截止数]                                   | 用于初次批量添加        |

```
* 添加命令组
    * 作用：让你可以用你想要的`名称`来触发一个或者多个指令
    * 指令结构：[添加命令] [主别名/别名1/别名2] [/指令1 /指令2 /指令3]
* 举例：
    * 比如我现在想要用`/90`和`/一键满级`来让触发这4条指令`/break 6` `/skill all 10` `/talent unlock all` `/level 90`
    * 发送指令：`添加命令 90/一键满级 /break 6 /skill all 10 /talent unlock all /level 90`
    * 此时就可以使用`/90`和`/一键满级`来让触发了
    * 注意事项：目前玩家`只能添加`，无法修改。在添加别名之前，请先测试指令是否能执行！并且无论是任何别名，只要在`命令别名`里面存在，都无法再次添加，每一个别名都需要保证唯一性

* 添加邮件组 
    * 作用：让你可以用你想要的`名称`来发送一个或者多个邮件
    * 指令结构：[添加邮件] [主别名/别名1/别名2] [邮件标题] [邮件内容] [物品ID:数量,物品ID:数量]
* 举例：
    * 比如我现在想要用`新手礼包`和`测试礼包`来让机器人给我发原石邮件
    * 发送指令：`添加邮件 新手礼包/测试礼包 新手礼包 这是测试用的 201:1,201:2`
    * 此时就可以使用`邮件 新手礼包`和`邮件 测试礼包`来获取原石邮件了
    * 注意事项：目前玩家`只能添加`，无法修改。在添加别名之前，请先测试指令是否能执行！并且无论是任何别名，只要在`邮件别名`里面存在，都无法再次添加，每一个别名都需要保证唯一性

* 查看别名信息
    * 作用：查看某个别名的基础信息，方便获取`主别名`
    * 指令结构：[查看(邮件|命令)别名][需要查看的别名]
* 举例：比如我现在想要给现有的`命令`别名`一键满级`继续添加两个别名，`满级`和`一键升级`
    * 发送指令：但是我不确定这个`一键满级`的`主别名`是什么，就可以使用`查看别名一键满级`
    * 比如我现在想要给现有的`邮件`别名`新手礼包`继续添加两个别名，`新手礼包1`和`新手礼包2`
    * 发送指令：但是我不确定这个`新手礼包`的`主别名`是什么，就可以使用`查看别名新手礼包`

* 给已有的命令组添加别名
    * 作用：给现有的`命令`主别名添加更多别名
    * 指令结构：[添加命令别名] [需要添加别名的主别名] [新别名1/新别名2/新别名3]
* 举例：比如我现在想要给`一键满级`继续添加两个别名，`满级`和`一键升级`，我已经使用查看别名获取主别名为`90`
    * 发送指令: 此时我就可以使用`添加命令别名 90 满级/一键升级`，添加完成之后即可使用`/满级`和`/一键升级`
    * 注意事项：每个别名都是唯一的，重复添加机器人会拒绝，邮件别名和命令别名可以重复
    
* 给已有的邮件组添加别名   
    * 作用：给现有的`邮件`主别名添加更多别名
    * 指令结构：[添加邮件别名] [需要添加别名的主别名] [新别名1/新别名2/新别名3]
* 举例：比如我现在想要给`新手礼包`继续添加两个别名，`新手礼包1`和`新手礼包2`，我已经使用查看别名获取主别名为`新手礼包`
    * 发送指令: 此时我就可以使用`添加命令别名 新手礼包 新手礼包1/新手礼包2`，添加完成之后即可使用`邮件 新手礼包1`和`邮件 新手礼包2`
    * 注意事项：每个别名都是唯一的，重复添加机器人会拒绝，邮件别名和命令别名可以重复

### 管理员指令
`没什么区别的啦，自己发帮助看`
* 全服邮件
* 删除命令
    * 结构：[删除命令] [主别名]
    * 不举例了，给管理员用的指令。查别名随后删即可，删除后机器人会发送一次让你重新添加的指令，可用于快速修改命令
* 删除邮件
    * 结构：[删除邮件] [主别名]
    * 不举例了，给管理员用的指令。查别名随后删即可，删除后机器人会发送一次让你重新添加的指令，可用于快速修改命令
### 超级管理指令(主人)

`没什么区别的啦，自己发帮助看`

# 免责声明
遇到问题最好自行解决

大部分代码来自[喵喵插件](https://github.com/yoimiya-kokomi/miao-plugin)和[白纸插件](https://github.com/HeadmasterTan/zhi-plugin)

本插件所有资源都来自互联网，请不要把此插件用于任何商业性行为，侵权请联系我删除。
